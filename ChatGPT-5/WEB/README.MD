# NeatRows â€” CSV/JSON Deduper & Normalizer (Singleâ€‘File: `Web.html`)

> **One HTML file. Zero dependencies. 100% offline.**

---

## ğŸ§­ Table of Contents

* [ğŸ‡°ğŸ‡· í•œêµ­ì–´ ì•ˆë‚´](#-í•œêµ­ì–´-ì•ˆë‚´)
* [ğŸ‡ºğŸ‡¸ English Guide](#-english-guide)

---

## ğŸ‡°ğŸ‡· í•œêµ­ì–´ ì•ˆë‚´

### ê°œìš”

`Web.html`ì€ **CSV/JSON ë°ì´í„°ë¥¼ ì •ê·œí™”í•˜ê³ (ê³µë°±Â·ëŒ€ì†Œë¬¸ìÂ·í‚¤ í‘œì¤€í™”) ì¤‘ë³µì„ ì œê±°**í•œ ë’¤, ë¯¸ë¦¬ë³´ê¸°/ë³µì‚¬/ë‹¤ìš´ë¡œë“œë¥¼ ì œê³µí•˜ëŠ” **ë‹¨ì¼ íŒŒì¼ ì›¹ ì•±**ì…ë‹ˆë‹¤. ëª¨ë“  ë¡œì§ê³¼ ìŠ¤íƒ€ì¼, ìŠ¤í¬ë¦½íŠ¸ê°€ **í•œ íŒŒì¼**ì— í¬í•¨ë˜ì–´ ìˆìœ¼ë©°, **ë„¤íŠ¸ì›Œí¬ ì—°ê²° ì—†ì´ ì˜¤í”„ë¼ì¸**ì—ì„œ ë™ì‘í•©ë‹ˆë‹¤.

### í•µì‹¬ íŠ¹ì§•

* **ë‹¨ì¼ íŒŒì¼**: `Web.html` í•˜ë‚˜ë§Œ ì—´ë©´ ì‹¤í–‰ë©ë‹ˆë‹¤. ì„¤ì¹˜/ë¹Œë“œ/ì˜ì¡´ì„± ì—†ìŒ.
* **ê²°ì •ì  ë™ì‘(Deterministic)**:

  * **Seed** ê°’ìœ¼ë¡œ ìƒ˜í”Œë§ ê²°ê³¼ê°€ í•­ìƒ ë™ì¼í•©ë‹ˆë‹¤.
  * **Realtime Clock** ìŠ¤ìœ„ì¹˜ë¡œ íƒ€ì„ìŠ¤íƒ¬í”„ë¥¼ ì‹¤ì‹œê°„/ê³ ì • ì‹œê°„ ì¤‘ ì„ íƒ.
* **ë°ì´í„° ì •ê·œí™”**: Trim, ê³µë°± ì¶•ì•½, ê°’/í‚¤ ì†Œë¬¸ìí™”, ë¹ˆ í–‰ ì œê±°.
* **ì¤‘ë³µ ì œê±°**: í‚¤(ì‰¼í‘œ êµ¬ë¶„)ë¥¼ ì§€ì •í•˜ë©´ í•´ë‹¹ í‚¤ ì¡°í•©ìœ¼ë¡œ ì¤‘ë³µ ì œê±°. ë¹„ìš°ë©´ ì „ì²´ í–‰ ê¸°ì¤€.
* **ì…ë ¥ í˜•ì‹**: CSV(êµ¬ë¶„ì/ë”°ì˜´í‘œ/í—¤ë” ì„¤ì •) ë˜ëŠ” JSON(ê°ì²´ ë°°ì—´) ìë™ ì²˜ë¦¬.
* **ë¯¸ë¦¬ë³´ê¸° & ë‚´ë³´ë‚´ê¸°**: í…Œì´ë¸” ë¯¸ë¦¬ë³´ê¸°(ìµœëŒ€ 15í–‰), **JSON/CSV ë‹¤ìš´ë¡œë“œ**, **í´ë¦½ë³´ë“œ ë³µì‚¬**.
* **ì ‘ê·¼ì„± ì¤‘ì‹¬**: í‚¤ë³´ë“œ ì „ìš© ì‚¬ìš© ê°€ëŠ¥, ê³ ëŒ€ë¹„/ê°ì‡  ëª¨ì…˜, ëª…í™•í•œ í¬ì»¤ìŠ¤ ë§, ARIA ë¼ì´ë¸Œ ìƒíƒœ.
* **êµ­ì œí™”(i18n)**: **í•œêµ­ì–´/ì˜ì–´** UI ì§€ì›.
* **ìì²´ ì ê²€(Selfâ€‘Test)**: ì •ìƒ/ì—£ì§€/ì˜¤ë¥˜ ê²½ë¡œ í…ŒìŠ¤íŠ¸ ë‚´ì¥.
* **ì„±ëŠ¥ ì§€í‘œ**: ì‹¤í–‰ íšŸìˆ˜, ì²˜ë¦¬ ì§€ì—°(ms), ë Œë” ë…¸ë“œ ìˆ˜ í‘œì‹œ.
* **ì¸ì‡„ ìµœì í™”**: ë¶ˆí•„ìš” íŒ¨ë„ ìˆ¨ê¹€, ë³¸ë¬¸ ê°€ë…ì„± í–¥ìƒ.

### ë¹ ë¥¸ ì‹œì‘

1. `Web.html` íŒŒì¼ì„ ë”ë¸”í´ë¦­í•˜ì—¬ ë¸Œë¼ìš°ì €(Chrome/Edge/Firefox/Safari)ë¡œ ì—½ë‹ˆë‹¤.
2. **Data** ì˜ì—­ì— CSV ë˜ëŠ” JSON(ê°ì²´ ë°°ì—´) ë°ì´í„°ë¥¼ ë¶™ì—¬ë„£ìŠµë‹ˆë‹¤.
3. **Options**ì—ì„œ í˜•ì‹(CSV/JSON), ì •ê·œí™” ì˜µì…˜, ì¤‘ë³µ ì œê±° í‚¤ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.
4. ìƒë‹¨ì—ì„œ **Seed**(í•„ìš” ì‹œ)ì™€ **Realtime Clock**ì„ ì¡°ì •í•©ë‹ˆë‹¤.
5. **Run (R)** ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ ì²˜ë¦¬ ê²°ê³¼ê°€ **Preview** ë° \*\*Raw(JSON)\*\*ì— í‘œì‹œë©ë‹ˆë‹¤.
6. **Copy (C)** ë˜ëŠ” **Download**(JSON/CSV)ë¥¼ ì‚¬ìš©í•´ ê²°ê³¼ë¥¼ ê°€ì ¸ê°‘ë‹ˆë‹¤.

### ì…ë ¥ ì˜ˆì‹œ

**CSV**

```csv
id,name,email
1,Ada,ada@example.com
2,Grace,grace@example.com
2,Grace , Grace@example.com
3,alan,alan@example.com
```

**JSON**

```json
[
  {"id":1,"name":"Ada","email":"ada@example.com"},
  {"id":2,"name":"Grace","email":"grace@example.com"},
  {"id":2,"name":"Grace ","email":"Grace@example.com"},
  {"id":3,"name":"alan","email":"alan@example.com"}
]
```

### í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤

* **R**: ì‹¤í–‰ (Run)
* **H**: ë„ì›€ë§ í† ê¸€ (Help)
* **T**: ìì²´ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ (Selfâ€‘Test)
* **C**: Raw(JSON) ë³µì‚¬ (Copy)
* **?**: ë‹¨ì¶•í‚¤ íŒ¨ë„ í† ê¸€
* **Esc**: ì—´ë ¤ ìˆëŠ” íŒ¨ë„ ë‹«ê¸°

### ê²°ì •ì„±(Determinism)

* **Seed** ì…ë ¥ê°’ì´ ê°™ìœ¼ë©´, **ìƒ˜í”Œ ë¯¸ë¦¬ë³´ê¸°** ê²°ê³¼ ìˆœì„œê°€ í•­ìƒ ë™ì¼í•©ë‹ˆë‹¤.
* ë‚´ì¥ PRNG(`mulberry32`)ì™€ **Fisherâ€‘Yates** ì…”í”Œë¡œ êµ¬í˜„.
* **Realtime Clock**ì„ ë„ë©´ ê³ ì •ëœ íƒ€ì„ìŠ¤íƒ¬í”„ë¥¼ ì‚¬ìš©í•˜ì—¬ ë‚´ë³´ë‚´ê¸° íŒŒì¼ëª…ì´ í•­ìƒ ì¬í˜„ë©ë‹ˆë‹¤.

### ì ‘ê·¼ì„± & ì‚¬ìš©ì„±

* ëª¨ë“  ì…ë ¥ì— ë ˆì´ë¸” ì œê³µ, í¬ì»¤ìŠ¤ ì´ë™ ìˆœì„œ ì‹œê° ìˆœì„œì™€ ì¼ì¹˜.
* `aria-live`ë¡œ ìƒíƒœ ì „ë‹¬(ê²°ê³¼/ì§€í‘œ/í† ìŠ¤íŠ¸), ìƒ‰ìƒë§Œìœ¼ë¡œ ì˜ë¯¸ ì „ë‹¬í•˜ì§€ ì•Šë„ë¡ ë°°ì§€/í…ìŠ¤íŠ¸ ë³‘ê¸°.
* `prefers-reduced-motion` ì¡´ì¤‘, **ê³ ëŒ€ë¹„(High Contrast)** ëª¨ë“œ ì œê³µ.

### ì„±ëŠ¥ & ë³µì¡ë„

* **CSV íŒŒì‹±**: ì¸ìš©ë¶€í˜¸/ì´ìŠ¤ì¼€ì´í”„ ì²˜ë¦¬ í¬í•¨ **O(n)** 1íŒ¨ìŠ¤.
* **ì •ê·œí™”/ì¤‘ë³µ ì œê±°**: í•´ì‹œì…‹ ê¸°ë°˜ í‚¤ ì‹œê·¸ë‹ˆì²˜ë¡œ **O(m)**.
* ë¯¸ë¦¬ë³´ê¸°ëŠ” ìµœëŒ€ 15í–‰ìœ¼ë¡œ ì œí•œ(ì „ì²´ ë‚´ë³´ë‚´ê¸°ëŠ” ì „ì²´ ë ˆì½”ë“œ ì‚¬ìš©).

### ë‚´ë³´ë‚´ê¸° & ì¸ì‡„

* **Download**: JSON/CSV ì¤‘ ì„ íƒ, íŒŒì¼ëª…ì— ISO íƒ€ì„ìŠ¤íƒ¬í”„ í¬í•¨.
* **Copy**: Raw(JSON) í…ìŠ¤íŠ¸ë¥¼ í´ë¦½ë³´ë“œë¡œ.
* **Print**: ë„ì›€ë§/í…ŒìŠ¤íŠ¸/ì…ë ¥ íŒ¨ë„ ìˆ¨ê¹€, ê²°ê³¼ ì¤‘ì‹¬ ì¶œë ¥.

### ë³´ì•ˆ/í”„ë¼ì´ë²„ì‹œ

* ë„¤íŠ¸ì›Œí¬ ìš”ì²­ ì—†ìŒ(ì˜¤í”„ë¼ì¸). í´ë¦½ë³´ë“œëŠ” **ì‚¬ìš©ì ë™ì‘ ì‹œ**ì—ë§Œ ì ‘ê·¼.
* HTML ì¸ì ì…˜ ë°©ì§€ë¥¼ ìœ„í•´ í…ìŠ¤íŠ¸ ì½˜í…ì¸ ë¡œ ë Œë”ë§(í…Œì´ë¸” ì…€/í”„ë¦¬ë·°).

### ë¬¸ì œ í•´ê²° (Troubleshooting)

* **JSON ì˜¤ë¥˜**: "JSON must be an array" ë˜ëŠ” êµ¬ë¬¸ ì˜¤ë¥˜ â†’ ë£¨íŠ¸ê°€ ë°°ì—´ì¸ì§€ í™•ì¸.
* **CSV ì´ìƒ**: ë”°ì˜´í‘œ/êµ¬ë¶„ì ì„¤ì • ì¬í™•ì¸, í—¤ë” ìœ ë¬´ ì²´í¬.
* **íŒŒì¼ ë‹¤ìš´ë¡œë“œ ì•ˆ ë¨**: ë¸Œë¼ìš°ì €ì˜ íŒì—…/ë‹¤ìš´ë¡œë“œ ì°¨ë‹¨ í•´ì œ.
* **ì½˜ì†” ê²½ê³ /ì˜¤ë¥˜**: ì´ ì•±ì€ 0 ê²½ê³ /ì˜¤ë¥˜ë¥¼ ëª©í‘œë¡œ ì„¤ê³„ë¨. ì¬í˜„ ê°€ëŠ¥í•œ ê²½ìš° ì´ìŠˆ ì„¹ì…˜ ì°¸ê³ .

### ë¸Œë¼ìš°ì € ì§€ì›

* ìµœì‹  Chrome/Edge/Firefox/Safari(ë°ìŠ¤í¬í†±/ëª¨ë°”ì¼) ì§€í–¥. Internet Explorer ë¯¸ì§€ì›.

### ì»¤ìŠ¤í„°ë§ˆì´ì§• íŒ

* ìƒ‰ìƒÂ·ê°„ê²©Â·í…Œë§ˆ í† í°: `:root`ì˜ CSS ì»¤ìŠ¤í…€ í”„ë¡œí¼í‹° ìˆ˜ì •.
* ë¯¸ë¦¬ë³´ê¸° í–‰ ìˆ˜/ê¸°ë³¸ Seed/ê³ ì • ì‹œê°: ìŠ¤í¬ë¦½íŠ¸ ìƒë‹¨ ìƒìˆ˜ ë³€ê²½.
* ì–¸ì–´ ì¶”ê°€: `STR` ì˜¤ë¸Œì íŠ¸ì— ë²ˆì—­ í‚¤ ì¶”ê°€.

### íŒŒì¼ êµ¬ì¡°

```
./Web.html  â† ì´ ì €ì¥ì†Œì˜ ì „ë¶€ (HTML+CSS+JS ë‹¨ì¼ íŒŒì¼)
```

### ë¼ì´ì„ ìŠ¤

* **MIT License**. ì†ŒìŠ¤ ì½”ë“œ/ë¬¸ì„œ ì¬ì‚¬ìš© ì‹œ ë¼ì´ì„ ìŠ¤ ê³ ì§€ ìœ ì§€.

### ë³€ê²½ ê¸°ë¡

* **v1.0.0** â€” ì²« ê³µê°œ ë²„ì „ (ë‹¨ì¼ íŒŒì¼, ê²°ì •ì  ìƒ˜í”Œë§, a11y, Selfâ€‘Test í¬í•¨)

---

## ğŸ‡ºğŸ‡¸ English Guide

### Overview

`Web.html` is a **singleâ€‘file web app** that **normalizes** (trim/space collapse/case) and **deduplicates** CSV/JSON data, then offers preview/copy/download â€” all **offline** in one file. No builds, no dependencies.

### Highlights

* **Single file**: open `Web.html` and youâ€™re set. No install/build/CDN.
* **Deterministic**:

  * A visible **Seed** ensures identical sampling order for the same input.
  * **Realtime Clock** toggle switches between fixed and system time.
* **Normalization**: trim, collapse spaces, lowercase values/keys, drop empty rows.
* **Dedupe**: enter commaâ€‘separated keys to deduplicate by; empty means fullâ€‘row signature.
* **Input formats**: CSV (configurable delimiter/quote/header) or JSON (array of objects).
* **Preview & export**: table preview (up to 15 rows), **JSON/CSV download**, **Copy to clipboard**.
* **Accessibilityâ€‘first**: keyboardâ€‘operable, highâ€‘contrast, reduced motion, visible focus, ARIA live regions.
* **i18n**: **English/Korean** UI.
* **Selfâ€‘Test**: builtâ€‘in checks for nominal/edge/error and determinism.
* **Metrics**: runs, last latency, DOM nodes rendered.
* **Print**: hides auxiliary panels for clean output.

### Quick Start

1. Open `Web.html` in a modern browser (Chrome/Edge/Firefox/Safari).
2. Paste CSV or a JSON array into **Data**.
3. Configure **Options** (format/normalization/keys).
4. Adjust **Seed** and **Realtime Clock** if needed.
5. Click **Run (R)** to transform; inspect **Preview**/**Raw**.
6. Use **Copy (C)** or **Download** (JSON/CSV) to export.

### Input Examples

See the CSV/JSON samples above (identical across languages).

### Keyboard Shortcuts

* **R**: Run â€” **H**: Help â€” **T**: Selfâ€‘Test â€” **C**: Copy Raw â€” **?**: Shortcuts â€” **Esc**: Close panels

### Determinism

* Same **Seed** â‡’ identical **sample preview order** every time.
* Implemented with a tiny `mulberry32` PRNG and **Fisherâ€‘Yates** shuffle.
* With Realtime Clock **off**, export filenames use a fixed timestamp.

### Accessibility & UX

* Proper labels and DOM order; `aria-live` updates for results/toasts/metrics.
* High contrast mode and reducedâ€‘motion compliance.
* Status badges never rely on color alone.

### Performance & Complexity

* **CSV parse** handles quotes/escapes in **O(n)** single pass.
* **Normalize/Dedupe** are **O(m)** over records via hash signatures.
* Preview limited to 15 rows for snappy paint; exports include the full set.

### Export & Print

* **Download** as JSON/CSV (ISO timestamp in the filename).
* **Copy** raw JSON to clipboard.
* **Print** presents a clean summary.

### Security & Privacy

* No network access. Clipboard used **only** on explicit user action.
* Outputs rendered as text to avoid HTML injection.

### Troubleshooting

* **Invalid JSON**: root must be an array; fix syntax and try again.
* **CSV issues**: verify delimiter/quote/header settings.
* **Download blocked**: allow downloads/popâ€‘ups for local files.
* **Console noise**: design aims for zero warnings/errors; please report reproducible cases.

### Browser Support

* Recent Chrome/Edge/Firefox/Safari (desktop/mobile). Internet Explorer not supported.

### Customization Tips

* Theme tokens in `:root`; adjust spacing/colors/contrast as needed.
* Change default seed/preview rows/fixed time in script constants.
* Add locales by extending the `STR` map.

### File Layout

```
./Web.html  â† the entire app (HTML+CSS+JS in a single file)
```

### License

* **MIT License**. Keep license notice in copies/substantial portions.

### Changelog

* **v1.0.0** â€” Initial public release (deterministic sampler, a11y, selfâ€‘tests)
